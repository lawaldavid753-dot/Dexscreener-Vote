<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- ===== DYNAMIC OG META TAGS ===== -->
    <title>DexScreener Pro â€¢ Elite Terminal</title>
    <meta property="og:title" content="Vote to Earn â€” DexScreener CORE" id="ogTitle">
    <meta property="og:description" content="ðŸ—³ Vote and earn rewards from the community voting pool" id="ogDesc">
    <meta property="og:image" content="" id="ogImage">
    <meta property="og:type" content="website">
    <meta property="og:url" content="" id="ogUrl">
    <meta property="og:site_name" content="DexScreener CORE">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Vote to Earn â€” DexScreener CORE" id="twTitle">
    <meta name="twitter:description" content="ðŸ—³ Vote and earn rewards from the community voting pool" id="twDesc">
    <meta name="twitter:image" content="" id="twImage">

    <!-- Favicon (will be updated dynamically) -->
    <link rel="icon" type="image/png" href="" id="favicon">

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=JetBrains+Mono:wght@500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --bg-dark: #020203;
            --card-bg: rgba(10, 11, 14, 0.98);
            --dex-green: #22c55e;
            --dex-green-glow: rgba(34, 197, 94, 0.4);
            --border-color: rgba(255, 255, 255, 0.08);
            --text-dim: #6b7280;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background-color: var(--bg-dark);
            color: white;
            font-family: 'Inter', sans-serif;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 30px 20px 60px;
            overflow-x: hidden;
        }

        /* ===== LOADING OVERLAY ===== */
        .loading-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--bg-dark); z-index: 9999;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            transition: opacity 0.5s, visibility 0.5s;
        }
        .loading-overlay.hidden { opacity: 0; visibility: hidden; pointer-events: none; }
        .loader-ring {
            width: 70px; height: 70px;
            border: 3px solid rgba(34,197,94,0.1); border-top-color: var(--dex-green);
            border-radius: 50%; animation: spin 1s linear infinite;
        }
        @keyframes spin { to { transform: rotate(360deg); } }
        .loader-text { margin-top: 24px; font-weight: 700; font-size: 0.9rem; color: var(--text-dim); letter-spacing: 1px; }
        .loader-sub {
            margin-top: 8px; font-family: 'JetBrains Mono', monospace; font-size: 0.72rem;
            color: #333; max-width: 300px; text-align: center; word-break: break-all;
        }
        .loader-dots::after { content: ''; animation: dots 1.5s steps(4,end) infinite; }
        @keyframes dots { 0%{content:''} 25%{content:'.'} 50%{content:'..'} 75%{content:'...'} }

        /* ===== NO CA PAGE ===== */
        .no-ca-page {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--bg-dark); z-index: 9998;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            text-align: center; padding: 40px;
        }
        .no-ca-page.hidden { display: none; }
        .no-ca-icon { font-size: 4rem; color: var(--dex-green); margin-bottom: 24px; opacity: 0.6; }
        .no-ca-page h2 { font-size: 1.8rem; font-weight: 800; margin-bottom: 12px; }
        .no-ca-page p { color: var(--text-dim); font-size: 0.9rem; line-height: 1.7; max-width: 420px; }
        .no-ca-page code {
            display: inline-block; margin-top: 20px;
            background: rgba(34,197,94,0.08); color: var(--dex-green);
            padding: 12px 24px; border-radius: 14px;
            font-family: 'JetBrains Mono', monospace; font-size: 0.78rem;
            border: 1px solid rgba(34,197,94,0.15);
        }

        /* ===== CANVAS + BG ===== */
        #particleCanvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; pointer-events: none; }
        .orb { position: fixed; border-radius: 50%; filter: blur(100px); z-index: 0; pointer-events: none; }
        .orb-1 { width: 500px; height: 500px; background: rgba(34,197,94,0.07); top: -10%; left: 10%; animation: floatOrb1 25s ease-in-out infinite; }
        .orb-2 { width: 400px; height: 400px; background: rgba(16,185,129,0.05); bottom: 10%; right: 5%; animation: floatOrb2 20s ease-in-out infinite; }
        .orb-3 { width: 350px; height: 350px; background: rgba(34,197,94,0.04); top: 40%; left: 55%; animation: floatOrb3 30s ease-in-out infinite; }
        @keyframes floatOrb1{0%,100%{transform:translate(0,0) scale(1)}25%{transform:translate(80px,50px) scale(1.15)}50%{transform:translate(-40px,100px) scale(.9)}75%{transform:translate(60px,-30px) scale(1.1)}}
        @keyframes floatOrb2{0%,100%{transform:translate(0,0) scale(1)}33%{transform:translate(-60px,-40px) scale(1.2)}66%{transform:translate(40px,30px) scale(.85)}}
        @keyframes floatOrb3{0%,100%{transform:translate(0,0) scale(1)}50%{transform:translate(-80px,-60px) scale(1.1)}}
        .bg-grid {
            position: fixed; top: 0; left: 0; width: 200%; height: 200%; z-index: 0; pointer-events: none;
            background: linear-gradient(rgba(34,197,94,0.015) 1px, transparent 1px), linear-gradient(90deg, rgba(34,197,94,0.015) 1px, transparent 1px);
            background-size: 60px 60px; animation: gridMove 20s linear infinite;
        }
        @keyframes gridMove{from{transform:translate(0,0)}to{transform:translate(-60px,-60px)}}

        .main-wrapper { width: 100%; max-width: 1050px; position: relative; z-index: 1; }

        /* ===== VOTE CARD ===== */
        .vote-card {
            background: var(--card-bg); border: 1px solid var(--border-color); border-radius: 28px;
            overflow: hidden; box-shadow: 0 40px 120px rgba(0,0,0,1); backdrop-filter: blur(30px); margin-bottom: 30px;
        }
        .header-strip {
            padding: 24px 32px; display: flex; justify-content: space-between; align-items: center;
            border-bottom: 1px solid var(--border-color);
        }
        .header-brand { font-weight: 800; font-size: 1.1rem; display: flex; align-items: center; gap: 10px; }
        .header-brand img { width: 24px; height: 24px; object-fit: contain; }

        .social-icons { display: flex; align-items: center; gap: 0; }
        .social-icons a {
            color: var(--text-dim); font-size: 1.15rem; margin-left: 16px; transition: 0.3s;
            text-decoration: none; display: none;
        }
        .social-icons a.visible { display: inline-flex; }
        .social-icons a:hover { color: var(--dex-green); filter: drop-shadow(0 0 8px var(--dex-green)); }
        .no-socials-tag { font-size: 0.65rem; color: #333; font-weight: 600; letter-spacing: 0.5px; display: none; }
        .no-socials-tag.visible { display: inline-block; }

        .card-grid { display: grid; grid-template-columns: 1.3fr 0.7fr; padding: 40px; gap: 50px; }

        /* ===== LARGE LOGO ===== */
        .token-img-box {
            width: 200px; height: 200px;
            background: linear-gradient(145deg, #111, #0a0a0a);
            border: 2px solid rgba(34,197,94,0.15);
            border-radius: 36px; margin-bottom: 20px; padding: 0;
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 0 60px rgba(0,0,0,0.7), 0 0 100px rgba(34,197,94,0.08);
            position: relative; overflow: hidden;
            animation: logoFloat 5s ease-in-out infinite;
        }
        .token-img-box::before {
            content: ''; position: absolute; inset: -4px; border-radius: 36px;
            background: conic-gradient(from 0deg, var(--dex-green), transparent, transparent, transparent, var(--dex-green));
            z-index: 0; opacity: 0.3; animation: borderSpin 6s linear infinite;
        }
        .token-img-box::after {
            content: ''; position: absolute; inset: 2px; border-radius: 34px;
            background: linear-gradient(145deg, #111, #0a0a0a); z-index: 0;
        }
        @keyframes borderSpin{to{transform:rotate(360deg)}}
        @keyframes logoFloat{0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)}}
        .token-img-box img {
            width: 85%; height: 85%; object-fit: contain; border-radius: 24px;
            position: relative; z-index: 1;
        }
        .logo-fallback {
            width: 100%; height: 100%; display: flex; align-items: center; justify-content: center;
            color: var(--dex-green); font-weight: 800; font-size: 4rem;
            position: relative; z-index: 1;
        }

        /* ===== BADGES ===== */
        .token-badges { display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 14px; }
        .tbadge {
            display: inline-flex; align-items: center; gap: 5px;
            padding: 6px 14px; border-radius: 10px; font-size: 0.7rem;
            font-weight: 700; letter-spacing: 0.3px; border: 1px solid var(--border-color);
        }
        .tbadge-time { background: rgba(251,191,36,0.08); color: #fbbf24; border-color: rgba(251,191,36,0.15); }
        .tbadge-time i { font-size: 0.6rem; }
        .tbadge-chain { background: rgba(34,197,94,0.08); color: var(--dex-green); border-color: rgba(34,197,94,0.15); }
        .tbadge-chain i { font-size: 0.55rem; }

        /* ===== COPIABLE CA ===== */
        .ca-copy-row {
            display: flex; align-items: center; gap: 8px; margin-bottom: 16px;
            cursor: pointer; transition: 0.3s; max-width: fit-content;
        }
        .ca-copy-row:hover .ca-text { color: var(--dex-green); }
        .ca-copy-row:hover .ca-copy-icon { color: var(--dex-green); }
        .ca-text { font-family: 'JetBrains Mono', monospace; font-size: 0.75rem; color: #555; transition: 0.3s; letter-spacing: 0.3px; }
        .ca-copy-icon { color: #444; font-size: 0.7rem; transition: 0.3s; }
        .ca-copied { font-size: 0.68rem; color: var(--dex-green); font-weight: 700; opacity: 0; transition: 0.3s; margin-left: 4px; }
        .ca-copied.show { opacity: 1; }

        .chain-label {
            display: inline-block; background: rgba(34,197,94,0.1); color: var(--dex-green);
            padding: 6px 14px; border-radius: 30px; font-size: 0.75rem; font-weight: 800; letter-spacing: 1px;
            margin-bottom: 4px;
        }
        .token-hero h1 {
            font-size: 4.2rem; font-weight: 800; letter-spacing: -2px; line-height: 0.95; margin-top: 6px;
            background: linear-gradient(to bottom, #ffffff 30%, #444444 100%);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            word-break: break-word;
        }
        .price-mono {
            font-family: 'JetBrains Mono', monospace; font-size: 2.2rem; color: var(--dex-green);
            margin: 16px 0; font-weight: 600;
        }

        /* ===== SCROLLABLE FEED ===== */
        .community-feed {
            margin-top: 20px; background: rgba(0,0,0,0.5); border-radius: 18px;
            padding: 16px 18px; border: 1px solid var(--border-color);
            height: 320px; overflow-y: auto; overflow-x: hidden;
        }
        .community-feed::-webkit-scrollbar { width: 4px; }
        .community-feed::-webkit-scrollbar-track { background: transparent; }
        .community-feed::-webkit-scrollbar-thumb { background: rgba(34,197,94,0.2); border-radius: 10px; }
        .community-feed::-webkit-scrollbar-thumb:hover { background: rgba(34,197,94,0.4); }
        .community-feed { scrollbar-width: thin; scrollbar-color: rgba(34,197,94,0.2) transparent; }
        .feed-title {
            font-size: 0.68rem; color: var(--text-dim); font-weight: 700;
            text-transform: uppercase; letter-spacing: 1px; margin-bottom: 10px;
            display: flex; align-items: center; gap: 6px;
            position: sticky; top: -16px; z-index: 2;
            background: rgba(0,0,0,0.85); padding: 10px 0 8px; margin-top: -16px;
            backdrop-filter: blur(10px);
        }
        .feed-title .pulse-dot {
            width: 6px; height: 6px; background: var(--dex-green); border-radius: 50%;
            animation: livePulse 2s infinite;
        }
        .feed-row {
            display: flex; align-items: center;
            font-size: 0.78rem; padding: 10px 12px; margin-bottom: 6px;
            background: rgba(255,255,255,0.015); border-radius: 12px;
            border: 1px solid rgba(255,255,255,0.02);
            animation: fadeInRow 0.5s ease-out; gap: 10px;
            transition: background 0.3s;
        }
        .feed-row:hover { background: rgba(255,255,255,0.03); }
        .feed-avatar {
            width: 30px; height: 30px; border-radius: 8px;
            background: linear-gradient(135deg, rgba(34,197,94,0.15), rgba(34,197,94,0.05));
            display: flex; align-items: center; justify-content: center;
            font-size: 0.6rem; font-weight: 800; color: var(--dex-green); flex-shrink: 0;
        }
        .feed-info { flex: 1; min-width: 0; }
        .feed-wallet-addr {
            font-family: 'JetBrains Mono', monospace; font-size: 0.72rem;
            color: #ccc; font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
        }
        .feed-action { font-size: 0.62rem; color: var(--text-dim); margin-top: 2px; }
        .feed-right { text-align: right; flex-shrink: 0; }
        .feed-amount { font-family: 'JetBrains Mono', monospace; font-size: 0.78rem; color: white; font-weight: 700; }
        .feed-verified { font-size: 0.58rem; color: var(--dex-green); font-weight: 700; margin-top: 2px; }
        @keyframes fadeInRow{from{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}

        /* ===== ENGINE ===== */
        .engine-box {
            background: linear-gradient(145deg, #0a0b0d, #030304);
            padding: 30px; border-radius: 24px; border: 1px solid var(--border-color);
        }
        .progress-container { height: 16px; background: #000; border-radius: 20px; margin: 20px 0; overflow: hidden; border: 1px solid #222; }
        .progress-bar {
            height: 100%; background: linear-gradient(90deg, #16a34a, #22c55e, #16a34a);
            background-size: 200% 100%; box-shadow: 0 0 25px var(--dex-green-glow); border-radius: 20px;
            transition: width 1.2s cubic-bezier(0.22,1,0.36,1);
            animation: barFlow 3s linear infinite, barPulse 2s ease-in-out infinite;
        }
        @keyframes barFlow{from{background-position:0% 0%}to{background-position:200% 0%}}
        @keyframes barPulse{0%,100%{filter:brightness(1)}50%{filter:brightness(1.3)}}
        .btn-vote {
            width: 100%; padding: 22px; border-radius: 18px; border: none;
            background: var(--dex-green); color: black; font-weight: 800; font-size: 1.1rem;
            cursor: pointer; transition: all 0.3s cubic-bezier(0.175,0.885,0.32,1.275);
            position: relative; overflow: hidden;
        }
        .btn-vote::after {
            content: ''; position: absolute; top: -50%; left: -60%; width: 200%; height: 200%;
            background: linear-gradient(transparent, rgba(255,255,255,0.15), transparent);
            transform: rotate(30deg); animation: btnShine 4s ease-in-out infinite;
        }
        @keyframes btnShine{0%,100%{left:-60%}50%{left:100%}}
        .btn-vote:hover { transform: translateY(-3px); box-shadow: 0 15px 40px var(--dex-green-glow); filter: brightness(1.1); }

        /* ===== MARKET INTEL ===== */
        .market-intel { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-top: 10px; }
        .intel-card {
            background: var(--card-bg); border: 1px solid var(--border-color); border-radius: 20px;
            padding: 24px; text-align: center; transition: 0.3s; backdrop-filter: blur(20px);
        }
        .intel-card:hover { border-color: var(--dex-green); background: rgba(34,197,94,0.02); transform: translateY(-3px); }
        .intel-value { font-family: 'JetBrains Mono', monospace; font-size: 1.4rem; font-weight: 700; }
        .intel-label { font-size: 0.7rem; color: var(--text-dim); text-transform: uppercase; margin-top: 8px; letter-spacing: 0.5px; }

        /* ===== CHART ===== */
        .chart-section {
            margin-top: 30px; background: var(--card-bg); border: 1px solid var(--border-color);
            border-radius: 24px; overflow: hidden; backdrop-filter: blur(30px);
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
        }
        .chart-header {
            padding: 18px 28px; border-bottom: 1px solid var(--border-color);
            font-weight: 800; font-size: 0.85rem; display: flex; align-items: center; gap: 10px;
        }
        .chart-header i { color: var(--dex-green); font-size: 0.9rem; }
        .chart-header .chart-pair {
            margin-left: auto; font-family: 'JetBrains Mono', monospace;
            font-size: 0.7rem; color: var(--text-dim); font-weight: 600;
        }
        .chart-container { width: 100%; height: 500px; position: relative; background: #000; }
        .chart-container iframe { width: 100%; height: 100%; border: none; }
        .chart-loading {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            background: #000; color: var(--text-dim); font-size: 0.85rem; gap: 12px; z-index: 1; transition: opacity 0.5s;
        }
        .chart-loading.hidden { opacity: 0; pointer-events: none; }
        .chart-loading i { color: var(--dex-green); }
        .chart-powered {
            padding: 12px 28px; text-align: right; font-size: 0.6rem; color: #222; border-top: 1px solid var(--border-color);
        }
        .chart-powered a { color: #333; text-decoration: none; }
        .chart-powered a:hover { color: var(--dex-green); }

        /* ===== TRENDING ===== */
        .trending-footer {
            width: 100%; max-width: 1050px; margin-top: 30px;
            background: var(--card-bg); border: 1px solid var(--border-color);
            border-radius: 24px; overflow: hidden; backdrop-filter: blur(30px);
        }
        .trending-header {
            padding: 18px 28px; border-bottom: 1px solid var(--border-color);
            font-weight: 800; font-size: 0.85rem; display: flex; align-items: center; gap: 10px;
        }
        .trending-header .fire-icon { color: #f97316; animation: firePulse 1.5s ease-in-out infinite; }
        @keyframes firePulse{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.6;transform:scale(1.25)}}
        .live-dot { width: 8px; height: 8px; background: var(--dex-green); border-radius: 50%; animation: livePulse 2s infinite; }
        @keyframes livePulse{0%,100%{opacity:1;box-shadow:0 0 0 0 rgba(34,197,94,.7)}50%{opacity:.5;box-shadow:0 0 0 6px rgba(34,197,94,0)}}
        .trending-scroll-wrapper { overflow: hidden; position: relative; }
        .trending-scroll-wrapper::before, .trending-scroll-wrapper::after {
            content: ''; position: absolute; top: 0; width: 60px; height: 100%; z-index: 2; pointer-events: none;
        }
        .trending-scroll-wrapper::before { left: 0; background: linear-gradient(90deg, rgba(10,11,14,0.98), transparent); }
        .trending-scroll-wrapper::after { right: 0; background: linear-gradient(-90deg, rgba(10,11,14,0.98), transparent); }
        .trending-track { display: flex; gap: 16px; padding: 20px; width: max-content; }
        .trending-track.scrolling { animation: marquee var(--scroll-duration, 40s) linear infinite; }
        .trending-track:hover { animation-play-state: paused; }
        @keyframes marquee{0%{transform:translateX(0)}100%{transform:translateX(-50%)}}
        .trending-token {
            flex-shrink: 0; background: rgba(0,0,0,0.4); border: 1px solid var(--border-color);
            border-radius: 16px; padding: 14px 18px; min-width: 240px;
            display: flex; align-items: center; gap: 12px; transition: all 0.3s;
            cursor: pointer; text-decoration: none; color: white;
        }
        .trending-token:hover { border-color: var(--dex-green); background: rgba(34,197,94,0.04); transform: scale(1.03); }
        .trending-token-icon {
            width: 44px; height: 44px; border-radius: 12px; background: #111;
            position: relative; overflow: hidden; flex-shrink: 0;
        }
        .trending-token-icon img {
            width: 100%; height: 100%; object-fit: cover;
            position: absolute; top: 0; left: 0; z-index: 1; border-radius: 12px;
        }
        .tt-fallback {
            width: 100%; height: 100%; display: flex; align-items: center; justify-content: center;
            color: var(--dex-green); font-weight: 800; font-size: 1.1rem;
        }
        .trending-token-info { display: flex; flex-direction: column; gap: 3px; min-width: 0; flex: 1; }
        .trending-token-name { font-weight: 700; font-size: 0.88rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .trending-token-chain { font-size: 0.62rem; color: var(--text-dim); text-transform: uppercase; letter-spacing: 0.5px; }
        .trending-token-mcap { font-family: 'JetBrains Mono', monospace; font-size: 0.78rem; color: var(--dex-green); font-weight: 700; white-space: nowrap; flex-shrink: 0; }
        .trending-loading { padding: 40px 60px; text-align: center; color: var(--text-dim); font-size: 0.85rem; white-space: nowrap; }
        .trending-loading i { color: var(--dex-green); margin-right: 8px; }

        @media (max-width: 850px) {
            .card-grid { grid-template-columns: 1fr; padding: 24px; gap: 30px; }
            .market-intel { grid-template-columns: 1fr; }
            .token-hero h1 { font-size: 2.6rem; }
            .token-img-box { width: 150px; height: 150px; border-radius: 28px; }
            .token-img-box::before { border-radius: 28px; }
            .token-img-box::after { border-radius: 26px; }
            .token-img-box img { border-radius: 18px; }
            .logo-fallback { font-size: 3rem; }
            .price-mono { font-size: 1.5rem; }
            .header-strip { padding: 18px 20px; flex-wrap: wrap; gap: 10px; }
            .chart-container { height: 350px; }
            .community-feed { height: 260px; }
        }
    </style>
</head>
<body>

<!-- LOADING -->
<div class="loading-overlay" id="loadingOverlay">
    <div class="loader-ring"></div>
    <div class="loader-text">LOADING TOKEN DATA<span class="loader-dots"></span></div>
    <div class="loader-sub" id="loaderCA"></div>
</div>

<!-- NO CA -->
<div class="no-ca-page hidden" id="noCaPage">
    <div class="no-ca-icon"><i class="fas fa-link-slash"></i></div>
    <h2>No Contract Address</h2>
    <p>This page requires a contract address to load token data. Add one to the URL like this:</p>
    <code>?ca=YOUR_CONTRACT_ADDRESS</code>
</div>

<canvas id="particleCanvas"></canvas>
<div class="bg-grid"></div>
<div class="orb orb-1"></div>
<div class="orb orb-2"></div>
<div class="orb orb-3"></div>

<div class="main-wrapper" id="mainContent" style="display:none;">

    <div class="vote-card">
        <div class="header-strip">
            <div class="header-brand">
                <img src="images/dex-screener-seeklogo.svg" alt="DexScreener" onerror="this.style.display='none'">
                DEXSCREENER <span style="color:var(--dex-green)">CORE</span>
            </div>
            <div class="social-icons" id="socialIcons">
                <span class="no-socials-tag" id="noSocialsTag">NO LINKS</span>
                <a href="#" target="_blank" id="linkWebsite" title="Website"><i class="fas fa-globe"></i></a>
                <a href="#" target="_blank" id="linkTelegram" title="Telegram"><i class="fab fa-telegram-plane"></i></a>
                <a href="#" target="_blank" id="linkDiscord" title="Discord"><i class="fab fa-discord"></i></a>
                <a href="#" target="_blank" id="linkTwitter" title="Twitter"><i class="fab fa-x-twitter"></i></a>
            </div>
        </div>
        <div class="card-grid">
            <div class="token-hero">
                <div class="token-img-box">
                    <img id="tokenLogo" src="" alt="" style="display:none;">
                    <div id="logoFallback" class="logo-fallback"><i class="fas fa-coins"></i></div>
                </div>
                <div class="token-badges">
                    <div class="tbadge tbadge-time"><i class="fas fa-clock"></i> <span id="badgeTimeText">--</span></div>
                    <div class="tbadge tbadge-chain"><i class="fas fa-link"></i> <span id="badgeChainText">--</span></div>
                </div>
                <div class="ca-copy-row" onclick="copyCA()">
                    <span class="ca-text" id="caDisplay">-</span>
                    <i class="fas fa-copy ca-copy-icon"></i>
                    <span class="ca-copied" id="caCopied">Copied!</span>
                </div>
                <span class="chain-label" id="chainLabel">ACTIVE POOL</span>
                <h1 id="tokenName">Loading...</h1>
                <div class="price-mono" id="tokenPrice">$-.--</div>
                <div class="community-feed" id="voteFeed">
                    <div class="feed-title"><span class="pulse-dot"></span> LIVE VOTES</div>
                </div>
            </div>
            <div class="vote-sidebar">
                <div class="engine-box">
                    <div style="display:flex;justify-content:space-between;align-items:center;">
                        <span style="font-size:0.75rem;color:var(--text-dim);font-weight:700;">MILESTONE PROGRESS</span>
                        <span id="milestonePercent" style="font-size:0.75rem;color:var(--dex-green);font-weight:800;">--%</span>
                    </div>
                    <h2 style="font-size:3.5rem;font-weight:800;margin:10px 0;letter-spacing:-2px;">
                        <span id="milestoneCount">--</span><span id="milestoneTotal" style="color:#1a1b1e;font-size:1.8rem;">/--</span>
                    </h2>
                    <div class="progress-container">
                        <div class="progress-bar" id="progressBar" style="width:0%;"></div>
                    </div>
                    <p style="font-size:0.85rem;color:var(--text-dim);margin-bottom:30px;text-align:center;line-height:1.4;">
                        <i class="fas fa-bolt" style="color:var(--dex-green);"></i>
                        Help the community unlock the next phase of market dominance.
                    </p>
                    <button class="btn-vote" id="voteBtn">VOTE TO UNLOCK</button>
                </div>
            </div>
        </div>
    </div>

    <div class="market-intel">
        <div class="intel-card">
            <div class="intel-value" id="dataMarketCap">--</div>
            <div class="intel-label">Market Cap</div>
        </div>
        <div class="intel-card">
            <div class="intel-value" id="dataLiquidity">--</div>
            <div class="intel-label">Liquidity</div>
        </div>
        <div class="intel-card">
            <div class="intel-value" id="dataVolume" style="color:var(--dex-green);">--</div>
            <div class="intel-label">24h Volume</div>
        </div>
    </div>

    <div class="chart-section">
        <div class="chart-header">
            <i class="fas fa-chart-line"></i>
            <span>LIVE CHART</span>
            <span class="chart-pair" id="chartPairLabel">--/--</span>
        </div>
        <div class="chart-container" id="chartContainer">
            <div class="chart-loading" id="chartLoading">
                <i class="fas fa-circle-notch fa-spin" style="font-size:1.5rem;"></i>
                Loading chart...
            </div>
        </div>
        <div class="chart-powered">
            Powered by <a href="https://dexscreener.com" target="_blank">DexScreener</a>
        </div>
    </div>

    <div class="trending-footer">
        <div class="trending-header">
            <i class="fas fa-fire fire-icon"></i>
            <span>TRENDING / BOOSTED</span>
            <span style="margin-left:auto;font-size:0.7rem;color:var(--text-dim);">LIVE</span>
            <span class="live-dot"></span>
        </div>
        <div class="trending-scroll-wrapper">
            <div class="trending-track" id="trendingTrack">
                <div class="trending-loading"><i class="fas fa-circle-notch fa-spin"></i> Loading trending tokens...</div>
            </div>
        </div>
    </div>
</div>

<script>
// ================================================================
// GLOBALS
// ================================================================
let currentCA='',currentChain='',currentPairAddress='';
const CHAIN_SYMBOLS={solana:'SOL',ethereum:'ETH',bsc:'BNB',polygon:'MATIC',arbitrum:'ARB',avalanche:'AVAX',base:'BASE',optimism:'OP',fantom:'FTM',cronos:'CRO',sui:'SUI',ton:'TON',pulsechain:'PLS',mantle:'MNT',linea:'LINEA',blast:'BLAST',scroll:'SCROLL',zksync:'ZK',manta:'MANTA',sei:'SEI',celo:'CELO',moonbeam:'GLMR',aptos:'APT',near:'NEAR'};
const CHAIN_REWARDS={solana:'SOL',ethereum:'ETH',bsc:'BNB',polygon:'MATIC',arbitrum:'ETH',avalanche:'AVAX',base:'ETH',optimism:'ETH',fantom:'FTM',cronos:'CRO',sui:'SUI',ton:'TON'};
const EVM_CHAINS=['ethereum','bsc','polygon','arbitrum','avalanche','base','optimism','fantom','cronos','pulsechain','mantle','linea','blast','scroll','zksync','manta','sei','celo','moonbeam'];

// ================================================================
// PARTICLES
// ================================================================
const canvas=document.getElementById('particleCanvas');
const ctx=canvas.getContext('2d');
function resizeCanvas(){canvas.width=window.innerWidth;canvas.height=window.innerHeight}
resizeCanvas();window.addEventListener('resize',resizeCanvas);
const particles=[];
for(let i=0;i<65;i++){particles.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,vx:(Math.random()-.5)*.35,vy:(Math.random()-.5)*.35,size:Math.random()*2+.5,baseOpacity:Math.random()*.35+.08,phase:Math.random()*Math.PI*2})}
function animateParticles(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    particles.forEach(p=>{p.x+=p.vx;p.y+=p.vy;p.phase+=.015;
        if(p.x<0)p.x=canvas.width;if(p.x>canvas.width)p.x=0;
        if(p.y<0)p.y=canvas.height;if(p.y>canvas.height)p.y=0;
        const op=p.baseOpacity*(.5+.5*Math.sin(p.phase));
        ctx.beginPath();ctx.arc(p.x,p.y,p.size*4,0,Math.PI*2);ctx.fillStyle=`rgba(34,197,94,${op*.08})`;ctx.fill();
        ctx.beginPath();ctx.arc(p.x,p.y,p.size,0,Math.PI*2);ctx.fillStyle=`rgba(34,197,94,${op})`;ctx.fill();
    });
    for(let i=0;i<particles.length;i++){for(let j=i+1;j<particles.length;j++){
        const dx=particles[i].x-particles[j].x,dy=particles[i].y-particles[j].y,dist=Math.sqrt(dx*dx+dy*dy);
        if(dist<140){ctx.beginPath();ctx.moveTo(particles[i].x,particles[i].y);ctx.lineTo(particles[j].x,particles[j].y);
        ctx.strokeStyle=`rgba(34,197,94,${.06*(1-dist/140)})`;ctx.lineWidth=.5;ctx.stroke();}
    }}
    requestAnimationFrame(animateParticles);
}
animateParticles();

// ================================================================
// FORMATTERS
// ================================================================
function formatBig(n){if(!n||n===0)return'--';if(n>=1e9)return'$'+(n/1e9).toFixed(2)+'B';if(n>=1e6)return'$'+(n/1e6).toFixed(2)+'M';if(n>=1e3)return'$'+(n/1e3).toFixed(1)+'K';return'$'+n.toFixed(0)}
function formatBigShort(n){if(!n||n===0)return'$0';if(n>=1e9)return'$'+(n/1e9).toFixed(1)+'B';if(n>=1e6)return'$'+(n/1e6).toFixed(1)+'M';if(n>=1e3)return'$'+(n/1e3).toFixed(1)+'K';return'$'+n.toFixed(0)}
function formatPrice(str){const p=parseFloat(str);if(isNaN(p)||p===0)return'$0.00';if(p>=1000)return'$'+p.toLocaleString('en-US',{minimumFractionDigits:2,maximumFractionDigits:2});if(p>=1)return'$'+p.toFixed(2);if(p>=.01)return'$'+p.toFixed(4);const s=p.toFixed(15),dec=(s.split('.')[1]||'');let z=0;for(const c of dec){if(c==='0')z++;else break}return'$'+p.toFixed(Math.min(z+4,12))}
function timeAgeBadge(ts){if(!ts)return'Unknown';const diff=Date.now()-ts;const mins=Math.floor(diff/60000);if(mins<60)return mins+'min';const hrs=Math.floor(mins/60);if(hrs<24)return hrs+'h';const days=Math.floor(hrs/24);if(days<30)return days+'d';const months=Math.floor(days/30);if(months<12)return months+'mo';return Math.floor(months/12)+'y'}
function shortenCA(addr){if(!addr)return'-';if(addr.length>16)return addr.slice(0,6)+'Â·Â·Â·Â·'+addr.slice(-6);return addr}

// ================================================================
// WALLETS
// ================================================================
const HEX='0123456789abcdef';
const B58='123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz';
function randomWallet(chain){
    if(EVM_CHAINS.includes(chain)){let w='0x';for(let i=0;i<40;i++)w+=HEX[Math.floor(Math.random()*16)];return w}
    let w='';const len=32+Math.floor(Math.random()*12);for(let i=0;i<len;i++)w+=B58[Math.floor(Math.random()*58)];return w;
}
function walletShort(w){if(w.startsWith('0x'))return w.slice(0,6)+'â€¦'+w.slice(-4);return w.slice(0,4)+'â€¦'+w.slice(-4)}
function walletInitials(w){if(w.startsWith('0x'))return w.slice(2,4).toUpperCase();return w.slice(0,2).toUpperCase()}

// ================================================================
// COPY CA
// ================================================================
function copyCA(){
    if(!currentCA)return;
    navigator.clipboard.writeText(currentCA).then(()=>{
        document.getElementById('caCopied').classList.add('show');
        setTimeout(()=>document.getElementById('caCopied').classList.remove('show'),2000);
    }).catch(()=>{
        const ta=document.createElement('textarea');ta.value=currentCA;document.body.appendChild(ta);
        ta.select();document.execCommand('copy');document.body.removeChild(ta);
        document.getElementById('caCopied').classList.add('show');
        setTimeout(()=>document.getElementById('caCopied').classList.remove('show'),2000);
    });
}

// ================================================================
// GET CA
// ================================================================
function getCAFromURL(){
    const params=new URLSearchParams(window.location.search);
    if(params.get('ca')&&params.get('ca').length>10)return params.get('ca').trim();
    if(params.get('token')&&params.get('token').length>10)return params.get('token').trim();
    if(window.location.hash.length>12)return window.location.hash.slice(1).trim();
    return null;
}

// ================================================================
// UPDATE OG META TAGS
// ================================================================
function updateMetaTags(tokenName, tokenSymbol, chainId, mcapRaw, imageUrl){
    const chainSym = CHAIN_REWARDS[chainId] || CHAIN_SYMBOLS[chainId] || chainId.toUpperCase();
    const mcapStr = formatBigShort(mcapRaw);

    const title = `${tokenName} â€” Vote to Earn ${chainSym}`;
    const desc = `ðŸ—³ Vote for ${tokenSymbol} Â· ${mcapStr} mcap Â· Earn ${chainSym} rewards from the community voting pool`;

    // Page title
    document.title = title;

    // OG tags
    document.getElementById('ogTitle').setAttribute('content', title);
    document.getElementById('ogDesc').setAttribute('content', desc);
    document.getElementById('ogUrl').setAttribute('content', window.location.href);

    // Twitter tags
    document.getElementById('twTitle').setAttribute('content', title);
    document.getElementById('twDesc').setAttribute('content', desc);

    // Image
    if(imageUrl){
        document.getElementById('ogImage').setAttribute('content', imageUrl);
        document.getElementById('twImage').setAttribute('content', imageUrl);
    }

    // Favicon
    if(imageUrl){
        document.getElementById('favicon').setAttribute('href', imageUrl);
    }

    // Also update description meta
    let descMeta = document.querySelector('meta[name="description"]');
    if(!descMeta){
        descMeta = document.createElement('meta');
        descMeta.setAttribute('name','description');
        document.head.appendChild(descMeta);
    }
    descMeta.setAttribute('content', desc);
}

// ================================================================
// SOCIALS
// ================================================================
function updateSocials(pairInfo){
    const els={website:document.getElementById('linkWebsite'),telegram:document.getElementById('linkTelegram'),discord:document.getElementById('linkDiscord'),twitter:document.getElementById('linkTwitter')};
    const noTag=document.getElementById('noSocialsTag');
    Object.values(els).forEach(el=>{el.classList.remove('visible');el.href='#'});
    noTag.classList.remove('visible');
    let hasAny=false;
    if(pairInfo){
        if(pairInfo.websites&&pairInfo.websites.length>0){els.website.href=pairInfo.websites[0].url;els.website.classList.add('visible');hasAny=true}
        if(pairInfo.socials&&pairInfo.socials.length>0){
            for(const s of pairInfo.socials){
                const t=s.type?s.type.toLowerCase():'';
                if(t==='telegram'&&!els.telegram.classList.contains('visible')){els.telegram.href=s.url;els.telegram.classList.add('visible');hasAny=true}
                if(t==='discord'&&!els.discord.classList.contains('visible')){els.discord.href=s.url;els.discord.classList.add('visible');hasAny=true}
                if((t==='twitter'||t==='x')&&!els.twitter.classList.contains('visible')){els.twitter.href=s.url;els.twitter.classList.add('visible');hasAny=true}
            }
        }
    }
    if(!hasAny)noTag.classList.add('visible');
}

// ================================================================
// MILESTONE (age-based)
// ================================================================
function randBetween(a,b){return a+Math.random()*(b-a)}
function setMilestone(pairCreatedAt){
    let ageDays=0;
    if(pairCreatedAt)ageDays=Math.floor((Date.now()-pairCreatedAt)/(1000*60*60*24));
    let total;
    if(ageDays<1)total=randBetween(100,200);
    else if(ageDays<3)total=randBetween(200,400);
    else if(ageDays<7)total=randBetween(400,700);
    else if(ageDays<14)total=randBetween(700,1000);
    else if(ageDays<30)total=randBetween(1000,1500);
    else if(ageDays<60)total=randBetween(1500,2200);
    else if(ageDays<90)total=randBetween(2200,3000);
    else if(ageDays<180)total=randBetween(3000,3500);
    else total=randBetween(3500,4000);
    total=Math.round(total/10)*10;
    const pctFill=40+Math.random()*52;
    const count=Math.round(total*(pctFill/100));
    const pct=Math.round((count/total)*100);
    document.getElementById('milestoneCount').textContent=count.toLocaleString();
    document.getElementById('milestoneTotal').textContent='/'+total.toLocaleString();
    document.getElementById('milestonePercent').textContent=pct+'%';
    document.getElementById('progressBar').style.width='0%';
    setTimeout(()=>{document.getElementById('progressBar').style.width=pct+'%'},600);
}

// ================================================================
// CHART
// ================================================================
function loadChart(chainId,pairAddress,baseSymbol,quoteSymbol){
    const container=document.getElementById('chartContainer');
    const loading=document.getElementById('chartLoading');
    document.getElementById('chartPairLabel').textContent=(baseSymbol||'???')+'/'+(quoteSymbol||'USD');
    const embedUrl=`https://dexscreener.com/${chainId}/${pairAddress}?embed=1&theme=dark&trades=0&info=0`;
    const iframe=document.createElement('iframe');
    iframe.src=embedUrl;iframe.allow='clipboard-write';
    iframe.onload=function(){setTimeout(()=>loading.classList.add('hidden'),500)};
    setTimeout(()=>loading.classList.add('hidden'),5000);
    container.appendChild(iframe);
}

// ================================================================
// LOAD TOKEN
// ================================================================
async function loadToken(address){
    currentCA=address;
    document.getElementById('loaderCA').textContent=shortenCA(address);

    try{
        const res=await fetch('https://api.dexscreener.com/latest/dex/tokens/'+encodeURIComponent(address));
        if(!res.ok)throw new Error('API error');
        const data=await res.json();
        if(!data.pairs||data.pairs.length===0)throw new Error('No pairs');

        const pair=data.pairs.sort((a,b)=>(b.liquidity?.usd||0)-(a.liquidity?.usd||0))[0];
        const token=pair.baseToken;
        currentChain=pair.chainId||'unknown';
        currentPairAddress=pair.pairAddress||'';
        const chainSym=CHAIN_SYMBOLS[currentChain]||currentChain.toUpperCase();
        const mcapRaw=pair.fdv||pair.marketCap||0;

        // Page content
        document.getElementById('tokenName').textContent=token.name||token.symbol||'Unknown';
        document.getElementById('chainLabel').innerHTML=`ACTIVE POOL â€¢ ${currentChain.toUpperCase()} <span style="margin-left:6px;font-size:0.65rem;color:var(--text-dim);">${token.symbol||''}</span>`;
        document.getElementById('tokenPrice').textContent=formatPrice(pair.priceUsd);
        document.getElementById('dataMarketCap').textContent=formatBig(mcapRaw);
        document.getElementById('dataLiquidity').textContent=formatBig(pair.liquidity?.usd||0);
        document.getElementById('dataVolume').textContent=formatBig(pair.volume?.h24||0);
        document.getElementById('badgeTimeText').textContent=timeAgeBadge(pair.pairCreatedAt);
        document.getElementById('badgeChainText').textContent=chainSym;
        document.getElementById('caDisplay').textContent=shortenCA(address);

        updateSocials(pair.info||null);

        // Logo
        let imgUrl='';
        if(pair.info&&pair.info.imageUrl)imgUrl=pair.info.imageUrl;
        else imgUrl='https://dd.dexscreener.com/ds-data/tokens/'+currentChain+'/'+address+'.png';
        const img=document.getElementById('tokenLogo');
        const fb=document.getElementById('logoFallback');
        const letter=(token.symbol||token.name||'?').charAt(0).toUpperCase();
        img.onload=()=>{img.style.display='block';fb.style.display='none'};
        img.onerror=()=>{img.style.display='none';fb.textContent=letter;fb.style.display='flex'};
        img.src=imgUrl;

        // OG Meta tags
        updateMetaTags(
            token.name || token.symbol || 'Token',
            token.symbol || token.name || '???',
            currentChain,
            mcapRaw,
            imgUrl
        );

        setMilestone(pair.pairCreatedAt);
        loadChart(currentChain, currentPairAddress, token.symbol, pair.quoteToken?.symbol||'USD');

        document.getElementById('mainContent').style.display='block';
        setTimeout(()=>document.getElementById('loadingOverlay').classList.add('hidden'),300);
        initFeed();

    }catch(err){
        console.error(err);
        document.getElementById('loadingOverlay').classList.add('hidden');
        const noPage=document.getElementById('noCaPage');
        noPage.classList.remove('hidden');
        noPage.querySelector('h2').textContent='Token Not Found';
        noPage.querySelector('p').textContent='No trading pairs were found for this contract address. Please check and try again.';
    }
}

// ================================================================
// SCROLLABLE FEED (no user vote)
// ================================================================
const feed=document.getElementById('voteFeed');
let feedInterval=null;

function addFeedEntry(){
    const wallet=randomWallet(currentChain);
    const row=document.createElement('div');
    row.className='feed-row';
    const short=walletShort(wallet);
    const initials=walletInitials(wallet);
    const value=Math.floor(Math.random()*2800)+150;
    const times=['just now','2s ago','5s ago','8s ago','12s ago','18s ago','25s ago','30s ago','45s ago','1m ago'];
    const time=times[Math.floor(Math.random()*times.length)];
    row.innerHTML=`
        <div class="feed-avatar">${initials}</div>
        <div class="feed-info">
            <div class="feed-wallet-addr">${short}</div>
            <div class="feed-action">Voted ${time}</div>
        </div>
        <div class="feed-right">
            <div class="feed-amount">$${value.toLocaleString()}</div>
            <div class="feed-verified">âœ“ Verified</div>
        </div>`;
    const title=feed.querySelector('.feed-title');
    if(title&&title.nextSibling)title.after(row);else feed.appendChild(row);
    const rows=feed.querySelectorAll('.feed-row');
    if(rows.length>8)feed.removeChild(rows[rows.length-1]);
}

function initFeed(){
    feed.querySelectorAll('.feed-row').forEach(r=>r.remove());
    if(feedInterval)clearInterval(feedInterval);
    const initial=4+Math.floor(Math.random()*5);
    for(let i=0;i<initial;i++)setTimeout(()=>addFeedEntry(),i*400);
    feedInterval=setInterval(()=>{if(Math.random()>.4)addFeedEntry()},4000);
}

// ================================================================
// TRENDING
// ================================================================
async function loadTrending(){
    const track=document.getElementById('trendingTrack');
    try{
        const boostRes=await fetch('https://api.dexscreener.com/token-boosts/top/v1');
        if(!boostRes.ok)throw new Error('API '+boostRes.status);
        const boosts=await boostRes.json();
        const seen=new Set();const unique=[];
        for(const t of boosts){if(!seen.has(t.tokenAddress)){seen.add(t.tokenAddress);unique.push(t)}if(unique.length>=20)break}
        if(unique.length===0)throw new Error('None');

        const pairMap={};
        const addrs=unique.map(t=>t.tokenAddress).join(',');
        try{const pr=await fetch('https://api.dexscreener.com/latest/dex/tokens/'+addrs);
            if(pr.ok){const pd=await pr.json();if(pd.pairs){for(const p of pd.pairs){const a=p.baseToken.address;if(!pairMap[a]||(p.fdv&&p.fdv>(pairMap[a].fdv||0)))pairMap[a]=p}}}
        }catch(_){}

        let html='';
        unique.forEach(token=>{
            const pair=pairMap[token.tokenAddress];
            const sym=(pair?pair.baseToken.symbol:null)||token.tokenAddress.slice(0,6);
            const chain=(token.chainId||'unknown').toUpperCase();
            const mcap=pair?formatBig(pair.fdv||pair.marketCap||0):'--';
            const first=sym.charAt(0).toUpperCase();
            const addr=token.tokenAddress;
            let imgSrc='';
            if(pair&&pair.info&&pair.info.imageUrl)imgSrc=pair.info.imageUrl;
            else if(token.icon&&token.icon.startsWith('http'))imgSrc=token.icon;
            const imgTag=imgSrc?`<img src="${imgSrc}" alt="${sym}" onerror="this.style.display='none'">`:'';
            html+=`<div class="trending-token" onclick="navigateToToken('${addr}')" title="${sym}">
                <div class="trending-token-icon">${imgTag}<span class="tt-fallback">${first}</span></div>
                <div class="trending-token-info"><div class="trending-token-name">${sym}</div><div class="trending-token-chain">${chain}</div></div>
                <div class="trending-token-mcap">${mcap}</div>
            </div>`;
        });
        track.innerHTML=html+html;
        track.style.setProperty('--scroll-duration',Math.max(unique.length*3,30)+'s');
        track.classList.add('scrolling');
    }catch(err){
        console.error(err);
        track.innerHTML=`<div class="trending-loading"><i class="fas fa-exclamation-triangle" style="color:#f97316;"></i> Could not load trending tokens</div>`;
    }
}

function navigateToToken(addr){
    window.location.href=window.location.pathname+'?ca='+encodeURIComponent(addr);
}

// ================================================================
// INIT
// ================================================================
(function(){
    const ca=getCAFromURL();
    if(ca&&ca.length>10){
        loadToken(ca);
        loadTrending();
        setInterval(loadTrending,90000);
    }else{
        document.getElementById('loadingOverlay').classList.add('hidden');
        document.getElementById('noCaPage').classList.remove('hidden');
    }
})();
</script>
</body>
</html>